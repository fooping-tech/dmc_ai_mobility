<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>OLED Animation Editor (Web)</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="app">
      <header class="app-header">
        <div class="title">OLED Animation Editor (Web)</div>
        <div class="subtitle">Load a single image/bin, build segments, preview, export .bin frames.</div>
      </header>

      <div class="main">
        <aside class="sidebar">
          <section class="panel">
            <div class="panel-title">Source</div>
            <div class="row">
              <button id="btnLoadImage">Load Image</button>
              <button id="btnLoadBin">Load BIN</button>
            </div>
            <div class="hint" id="sourceLabel">(no input)</div>
            <input id="fileImage" type="file" accept="image/*" hidden />
            <input id="fileBin" type="file" accept=".bin" hidden />
          </section>

          <section class="panel">
            <div class="panel-title">Output</div>
            <div class="grid">
              <label>Width <input id="widthInput" type="number" min="8" step="8" value="128" /></label>
              <label>Height <input id="heightInput" type="number" min="8" step="8" value="32" /></label>
              <label>FPS <input id="fpsInput" type="number" min="1" max="60" step="1" value="10" /></label>
              <label>Preview Scale <input id="scaleInput" type="number" min="1" max="10" step="1" value="4" /></label>
              <label>Fit
                <select id="fitSelect">
                  <option value="contain">contain</option>
                  <option value="cover">cover</option>
                  <option value="original">original</option>
                </select>
              </label>
              <label>Resample
                <select id="resampleSelect">
                  <option value="nearest">nearest</option>
                  <option value="smooth">smooth</option>
                </select>
              </label>
            </div>
            <div class="row">
              <label class="checkbox"><input id="invertCheck" type="checkbox" />Invert</label>
              <label class="checkbox"><input id="ditherCheck" type="checkbox" />Ordered dither</label>
              <label class="checkbox"><input id="loopCheck" type="checkbox" checked />Loop</label>
            </div>
          </section>

          <section class="panel">
            <div class="panel-title">Segments</div>
            <ul id="segmentsList" class="segments"></ul>
            <div class="row">
              <button id="btnAddSeg">Add</button>
              <button id="btnRemoveSeg">Remove</button>
              <button id="btnUpSeg">Up</button>
              <button id="btnDownSeg">Down</button>
            </div>
          </section>

          <section class="panel">
            <div class="panel-title">Segment Editor</div>
            <div class="hint" id="compositeLabel">Composite: none</div>
            <div class="grid">
              <label>Effect
                <select id="effectSelect"></select>
              </label>
              <label>Ease
                <select id="easeSelect">
                  <option value="linear">linear</option>
                  <option value="ease_in">ease_in</option>
                  <option value="ease_out">ease_out</option>
                  <option value="ease_in_out">ease_in_out</option>
                  <option value="back_out">back_out</option>
                  <option value="elastic_out">elastic_out</option>
                  <option value="bounce_out">bounce_out</option>
                </select>
              </label>
              <label>Duration (s) <input id="durationInput" type="number" min="0.05" step="0.05" value="1.0" /></label>
              <label>Start Scale <input id="startScaleInput" type="number" step="0.05" value="1.0" /></label>
              <label>End Scale <input id="endScaleInput" type="number" step="0.05" value="1.0" /></label>
              <label>Start X <input id="startXInput" type="number" step="1" value="0" /></label>
              <label>End X <input id="endXInput" type="number" step="1" value="0" /></label>
              <label>Start Y <input id="startYInput" type="number" step="1" value="0" /></label>
              <label>End Y <input id="endYInput" type="number" step="1" value="0" /></label>
            </div>
            <div class="row">
              <button id="btnApplySeg">Apply</button>
              <button id="btnPresetSeg">Preset</button>
            </div>
          </section>
        </aside>

        <section class="preview">
          <canvas id="previewCanvas" width="512" height="128"></canvas>
          <div class="controls">
            <button id="btnPlay">Play</button>
            <button id="btnPause">Pause</button>
            <button id="btnStop">Stop</button>
            <div class="spacer"></div>
            <div id="frameLabel" class="hint">0 / 0</div>
          </div>
          <input id="timeline" type="range" min="0" max="0" value="0" />
          <div class="export">
            <input id="exportName" type="text" value="oled_frames.zip" />
            <button id="btnExport">Export ZIP</button>
          </div>
          <div class="hint" id="statusLabel">Ready.</div>
        </section>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>
